<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Interactiva de Odontolog칤a</title>
  <style>
    body {
      background: #1a1a2e;
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 30px;
    }
    h1 {
      margin-bottom: 20px;
    }
    .container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
    }
    .card {
      width: 200px;
      height: 120px;
      background: #ccc;
      border-radius: 10px;
      padding: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.3);
      cursor: not-allowed;
      transition: transform 0.3s, background 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    .card.unlocked {
      background: #6a11cb;
      cursor: pointer;
      color: white;
    }
    .card.completed {
      background: #00c853;
    }
    .card.locked {
      opacity: 0.4;
    }
    .card:hover.unlocked {
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <h1>Malla Interactiva de Odontolog칤a 游붱</h1>
  <div class="container" id="cardContainer"></div>

  <script>
    // Definici칩n de asignaturas y prerequisitos
    const asignaturas = {
      "Antropolog칤a": [],
      "Unidad de Integraci칩n 1": [],
      "Qu칤mica General": [],
      "F칤sica Aplicada": [],
      "Biolog칤a": [],
      "Anatom칤a General": [],
      "Salud P칰blica 1": [],
      "Salud P칰blica 2": ["Salud P칰blica 1"],
      "Anatom칤a Topogr치fica, Cabeza y Cuello": ["Anatom칤a General"],
      "Histolog칤a": ["Biolog칤a"],
      "Qu칤mica Org치nica": ["Qu칤mica General"],
      "Unidad de Integraci칩n 2": ["Unidad de Integraci칩n 1"],
      "Idioma Ingl칠s": [],
      "Sociedad y Desarrollo Comunitario": ["Antropolog칤a"],
      "Salud P칰blica 3": ["Salud P칰blica 2"],
      "Fisiolog칤a": ["Anatom칤a General", "Histolog칤a", "Biolog칤a", "F칤sica Aplicada"],
      "Embriolog칤a": [],
      "Bioqu칤mica": ["Qu칤mica Org치nica"],
      "Unidad de Integraci칩n 3": ["Unidad de Integraci칩n 2"],
      "Semiolog칤a y enfermer칤a b치sica": [],
      "Cl칤nica B치sica 1": [],
      "Salud P칰blica 4": ["Salud P칰blica 3"],
      "Neuronatom칤a": ["Embriolog칤a", "Anatom칤a Topogr치fica, Cabeza y Cuello"],
      "Fisiopatolog칤a": ["Fisiolog칤a"],
      "Fisiolog칤a bucal": ["Fisiolog칤a"],
      "Unidad de Integraci칩n 4": ["Unidad de Integraci칩n 3"],
      "Semiolog칤a 1": ["Semiolog칤a y enfermer칤a b치sica"],
      "Cl칤nica B치sica 2": ["Cl칤nica B치sica 1"],
      "Psicolog칤a": [],
      "Unidad de Integraci칩n 5": ["Unidad de Integraci칩n 4"],
      "Microbiolog칤a": ["Fisiolog칤a bucal"],
      "Patolog칤a General": ["Fisiopatolog칤a"],
      "Salud P칰blica 5": ["Salud P칰blica 4"],
      "Semiolog칤a 2": ["Semiolog칤a 1"],
      "Cl칤nica B치sica 3": ["Cl칤nica B치sica 2"],
      "Psicolog칤a 2": ["Psicolog칤a"],
      "Salud P칰blica 6": ["Salud P칰blica 5"],
      "Anatom칤a Patol칩gica": ["Patolog칤a General"],
      "Farmacolog칤a": ["Microbiolog칤a", "Patolog칤a General"],
      "Unidad de Integraci칩n 6": ["Unidad de Integraci칩n 5"],
      "Radiolog칤a": ["Semiolog칤a 2"],
      "Cl칤nica B치sica 4": ["Cl칤nica B치sica 3"],
      "Electivo de Cultura Departamento Humano": [],
      "Bio칠tica": ["Salud P칰blica 6", "Anatom칤a Patol칩gica", "Farmacolog칤a", "Unidad de Integraci칩n 6", "Radiolog칤a", "Cl칤nica B치sica 4", "Electivo de Cultura Departamento Humano"],
      "Cl칤nica Odontol칩gica Integral Pedi치trica 1": ["Salud P칰blica 6", "Anatom칤a Patol칩gica", "Farmacolog칤a", "Unidad de Integraci칩n 6", "Radiolog칤a", "Cl칤nica B치sica 4", "Electivo de Cultura Departamento Humano"],
      "Cl칤nica Odontol칩gica Integral Adulto 1": ["Salud P칰blica 6", "Anatom칤a Patol칩gica", "Farmacolog칤a", "Unidad de Integraci칩n 6", "Radiolog칤a", "Cl칤nica B치sica 4", "Electivo de Cultura Departamento Humano"],
      "Historia de la Cultura y Sociedad Chilena": ["Salud P칰blica 6", "Anatom칤a Patol칩gica", "Farmacolog칤a", "Unidad de Integraci칩n 6", "Radiolog칤a", "Cl칤nica B치sica 4", "Electivo de Cultura Departamento Humano"],
      "Salud Familiar": ["Bio칠tica"],
      "칄tica, Moral y L칩gica": [],
      "Cl칤nica Odontol칩gica Integral Pedi치trica 2": ["Cl칤nica Odontol칩gica Integral Pedi치trica 1"],
      "Cl칤nica Odontol칩gica Integral Adulto 2": ["Cl칤nica Odontol칩gica Integral Adulto 1"],
      "Electivo de Formaci칩n Especializada": [],
      "Planificaciones de Desarrollo": [],
      "Pol칤ticas P칰blicas": ["Salud Familiar"],
      "Proyecciones en Odontolog칤a": [],
      "Pr치ctica Profesional Controlada 1": ["Pol칤ticas P칰blicas", "Cl칤nica Odontol칩gica Integral Pedi치trica 2", "Cl칤nica Odontol칩gica Integral Adulto 2", "Proyecciones en Odontolog칤a"],
      "Pr치ctica Profesional Controlada 2": ["Pr치ctica Profesional Controlada 1"]
    };

    const estado = JSON.parse(localStorage.getItem("estadoAsignaturas")) || {};

    function guardarEstado() {
      localStorage.setItem("estadoAsignaturas", JSON.stringify(estado));
    }

    function marcarComoCompletada(nombre) {
      estado[nombre] = true;
      guardarEstado();
      renderizarTarjetas();
    }

    function renderizarTarjetas() {
      const contenedor = document.getElementById("cardContainer");
      contenedor.innerHTML = "";
      for (const nombre in asignaturas) {
        const card = document.createElement("div");
        card.id = nombre;
        card.className = "card";
        card.textContent = nombre;
        if (estado[nombre]) {
          card.classList.add("completed");
        } else {
          const prereqs = asignaturas[nombre];
          const completados = prereqs.every(p => estado[p]);
          if (completados || prereqs.length === 0) {
            card.classList.add("unlocked");
            card.onclick = () => marcarComoCompletada(nombre);
          } else {
            card.classList.add("locked");
          }
        }
        contenedor.appendChild(card);
      }
    }

    // Inicializa la interfaz
    renderizarTarjetas();
  </script>
</body>
</html>
